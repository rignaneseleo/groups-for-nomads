{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
        "version": {
            "type": "string",
            "description": "Version of the directory"
        },
        "groups": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Name of the community group"
                    },
                    "platform": {
                        "type": "string",
                        "enum": [
                            "whatsapp",
                            "telegram",
                            "linktree",
                            "discord",
                            "facebook",
                            "slack",
                            "instagram",
                        ],
                        "description": "Platform hosting the community group"
                    },
                    "url": {
                        "type": "string",
                        "format": "uri",
                        "pattern": "^https?://",
                        "description": "Invitation/join link for the group"
                    },
                    "locations": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "continent": {
                                    "type": "string",
                                    "enum": [
                                        "Africa",
                                        "Antarctica",
                                        "Asia",
                                        "Europe",
                                        "North America",
                                        "South America",
                                        "Central America",
                                        "Oceania"
                                    ],
                                    "description": "Continent where the group is primarily located. Empty string for global groups."
                                },
                                "country_id": {
                                    "type": "string",
                                    "description": "Two-letter country code (optional)",
                                    "enum": [
                                        "AF",
                                        "AX",
                                        "AL",
                                        "DZ",
                                        "AS",
                                        "AD",
                                        "AO",
                                        "AI",
                                        "AQ",
                                        "AG",
                                        "AR",
                                        "AM",
                                        "AW",
                                        "AU",
                                        "AT",
                                        "AZ",
                                        "BS",
                                        "BH",
                                        "BD",
                                        "BB",
                                        "BY",
                                        "BE",
                                        "BZ",
                                        "BJ",
                                        "BM",
                                        "BT",
                                        "BO",
                                        "BQ",
                                        "BA",
                                        "BW",
                                        "BV",
                                        "BR",
                                        "IO",
                                        "BN",
                                        "BG",
                                        "BF",
                                        "BI",
                                        "KH",
                                        "CM",
                                        "CA",
                                        "CV",
                                        "KY",
                                        "CF",
                                        "TD",
                                        "CL",
                                        "CN",
                                        "CX",
                                        "CC",
                                        "CO",
                                        "KM",
                                        "CG",
                                        "CD",
                                        "CK",
                                        "CR",
                                        "CI",
                                        "HR",
                                        "CU",
                                        "CW",
                                        "CY",
                                        "CZ",
                                        "DK",
                                        "DJ",
                                        "DM",
                                        "DO",
                                        "EC",
                                        "EG",
                                        "SV",
                                        "GQ",
                                        "ER",
                                        "EE",
                                        "ET",
                                        "FK",
                                        "FO",
                                        "FJ",
                                        "FI",
                                        "FR",
                                        "GF",
                                        "PF",
                                        "TF",
                                        "GA",
                                        "GM",
                                        "GE",
                                        "DE",
                                        "GH",
                                        "GI",
                                        "GR",
                                        "GL",
                                        "GD",
                                        "GP",
                                        "GU",
                                        "GT",
                                        "GG",
                                        "GN",
                                        "GW",
                                        "GY",
                                        "HT",
                                        "HM",
                                        "VA",
                                        "HN",
                                        "HK",
                                        "HU",
                                        "IS",
                                        "IN",
                                        "ID",
                                        "IR",
                                        "IQ",
                                        "IE",
                                        "IM",
                                        "IL",
                                        "IT",
                                        "JM",
                                        "JP",
                                        "JE",
                                        "JO",
                                        "KZ",
                                        "KE",
                                        "KI",
                                        "KP",
                                        "KR",
                                        "KW",
                                        "KG",
                                        "LA",
                                        "LV",
                                        "LB",
                                        "LS",
                                        "LR",
                                        "LY",
                                        "LI",
                                        "LT",
                                        "LU",
                                        "MO",
                                        "MK",
                                        "MG",
                                        "MW",
                                        "MY",
                                        "MV",
                                        "ML",
                                        "MT",
                                        "MH",
                                        "MQ",
                                        "MR",
                                        "MU",
                                        "YT",
                                        "MX",
                                        "FM",
                                        "MD",
                                        "MC",
                                        "MN",
                                        "ME",
                                        "MS",
                                        "MA",
                                        "MZ",
                                        "MM",
                                        "NA",
                                        "NR",
                                        "NP",
                                        "NL",
                                        "NC",
                                        "NZ",
                                        "NI",
                                        "NE",
                                        "NG",
                                        "NU",
                                        "NF",
                                        "MP",
                                        "NO",
                                        "OM",
                                        "PK",
                                        "PW",
                                        "PS",
                                        "PA",
                                        "PG",
                                        "PY",
                                        "PE",
                                        "PH",
                                        "PN",
                                        "PL",
                                        "PT",
                                        "PR",
                                        "QA",
                                        "RE",
                                        "RO",
                                        "RU",
                                        "RW",
                                        "BL",
                                        "SH",
                                        "KN",
                                        "LC",
                                        "MF",
                                        "PM",
                                        "VC",
                                        "WS",
                                        "SM",
                                        "ST",
                                        "SA",
                                        "SN",
                                        "RS",
                                        "SC",
                                        "SL",
                                        "SG",
                                        "SX",
                                        "SK",
                                        "SI",
                                        "SB",
                                        "SO",
                                        "ZA",
                                        "GS",
                                        "SS",
                                        "ES",
                                        "LK",
                                        "SD",
                                        "SR",
                                        "SJ",
                                        "SZ",
                                        "SE",
                                        "CH",
                                        "SY",
                                        "TW",
                                        "TJ",
                                        "TZ",
                                        "TH",
                                        "TL",
                                        "TG",
                                        "TK",
                                        "TO",
                                        "TT",
                                        "TN",
                                        "TR",
                                        "TM",
                                        "TC",
                                        "TV",
                                        "UG",
                                        "UA",
                                        "AE",
                                        "GB",
                                        "US",
                                        "UM",
                                        "UY",
                                        "UZ",
                                        "VU",
                                        "VE",
                                        "VN",
                                        "VG",
                                        "VI",
                                        "WF",
                                        "EH",
                                        "YE",
                                        "ZM",
                                        "ZW"
                                    ]
                                },
                                "city": {
                                    "type": "string",
                                    "description": "City where the group is located (optional)"
                                },
                                "region": {
                                    "type": "string",
                                    "description": "Specific region within a country (optional)"
                                }
                            },
                            "required": [
                                "continent"
                            ]
                        },
                        "description": "Geographic locations associated with the group"
                    },
                    "language_id": {
                        "type": "string",
                        "description": "Language code for the group (optional)",
                        "pattern": "^[a-z]{2}$"
                    },
                    "commercial": {
                        "type": "boolean",
                        "description": "Whether the group has a commercial nature"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "description": "Additional tags for categorization"
                    },
                    "description": {
                        "type": "string",
                        "description": "Optional description of the group"
                    }
                },
                "required": [
                    "name",
                    "platform",
                    "url"
                ]
            }
        }
    },
    "required": [
        "version",
        "groups"
    ]

}
